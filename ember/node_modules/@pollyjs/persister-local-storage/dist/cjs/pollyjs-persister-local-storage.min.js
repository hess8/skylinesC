"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var Persister=_interopDefault(require("@pollyjs/persister"));const{parse:parse}=JSON;class LocalStoragePersister extends Persister{static get name(){return"local-storage"}get defaultOptions(){return{key:"pollyjs",context:global}}get localStorage(){const{context:t}=this.options;return this.assert(`Could not find "localStorage" on the given context "${t}".`,t&&t.localStorage),t.localStorage}get db(){const t=this.localStorage.getItem(this.options.key);return t?parse(t):{}}set db(t){this.localStorage.setItem(this.options.key,this.stringify(t))}findRecording(t){return this.db[t]||null}saveRecording(t,e){const{db:s}=this;s[t]=e,this.db=s}deleteRecording(t){const{db:e}=this;delete e[t],this.db=e}}module.exports=LocalStoragePersister;
//# sourceMappingURL=pollyjs-persister-local-storage.min.js.map
