import t from"@pollyjs/persister";const{parse:e}=JSON;export default class extends t{static get name(){return"local-storage"}get defaultOptions(){return{key:"pollyjs",context:global}}get localStorage(){const{context:t}=this.options;return this.assert(`Could not find "localStorage" on the given context "${t}".`,t&&t.localStorage),t.localStorage}get db(){const t=this.localStorage.getItem(this.options.key);return t?e(t):{}}set db(t){this.localStorage.setItem(this.options.key,this.stringify(t))}findRecording(t){return this.db[t]||null}saveRecording(t,e){const{db:o}=this;o[t]=e,this.db=o}deleteRecording(t){const{db:e}=this;delete e[t],this.db=e}}
//# sourceMappingURL=pollyjs-persister-local-storage.min.js.map
